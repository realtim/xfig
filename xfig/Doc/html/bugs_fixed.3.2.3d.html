<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Bugs Fixed</title>
</head>

<body>
<a href="contents.html"><img src="images/xfig-title.png"
  alt="XFIG Users Manual" border=0></a>

<hr>

<h1><a name="bugsfixed">Bugs Fixed in <i>xfig 3.2.3d</i></a></h1>
(Released May 2001)

<p><img src="images/blueballdot.png"> 
New cascaded menu for the Fig object libraries.  This reduces the
	  height of the menu to allow many more libraries, by arranging them
	  hierarchically.  This required writing a subclass of the SmeBSB Athena
	  widget.
<p><img src="images/blueballdot.png"> 
When browsing libraries or merging figures, identical user colors were
	  multiply defined
<p><img src="images/blueballdot.png"> 
Fig library objects may use imported images because the absolute path
	  is forced in those cases 
<p><img src="images/blueballdot.png"> 
When modifying an existing centered or right-justified text, pressing
	  enter moved the cursor to the X position of the beginning of the
	  string just modified instead of its anchor point
<p><img src="images/blueballdot.png"> 
"Delete Unused" button sensitivity not reset when loading subsequent
	  Fig files
<p><img src="images/blueballdot.png"> 
If -library_dir (Fig.library_dir resource) pointed to a <i>file</i> of Fig
	  library directories, sub-directories weren't added to library list
<p><img src="images/blueballdot.png"> 
If a bad Fig file was previewed in a library, <i>xfig</i> would display a bad
	  preview and segfault of the object was selected
<p><img src="images/blueballdot.png"> 
Incorrect dx/dy distance reported when moving object/point
<p><img src="images/blueballdot.png"> 
Better support for Cygwin - Importing eps files changes to the
	  directory of the file to avoid pathname differences between Windows
	  and Unix/Linux/etc.
	  From Pierre Humblet
<p><img src="images/blueballdot.png"> 
Can now rotate boxes and arcboxes by -90, -180 and 180 degrees in
	  addition to 90 degrees
<p><img src="images/blueballdot.png"> 
A compressed .fig file is only uncompressed if the directory is
	  writable
<p><img src="images/blueballdot.png"> 
When reading a Fig file, if there was a bad object inside a compound,
	  <i>xfig</i> would discard the entire compound.
<p><img src="images/blueballdot.png"> 
When reading a Fig file, if there was an incomplete or bad object,
	  the storage wasn't freed in some cases.
<p><img src="images/blueballdot.png"> 
<i>xfig</i> would stop reading a Fig file as soon as it encountered a bad
	  object
<p><img src="images/blueballdot.png"> 
<i>xfig</i> now uses its own my_strdup() so it will compile on those machines
	  that don't have strdup()
<p><img src="images/blueballdot.png"> 
"Minitower" computer in Fig object library of computers had an illegal
	  Fig object
<p><img src="images/blueballdot.png"> 
Typo in Doc/FORMAT3.2 file in the join style descriptions.  Round and
	  bevel values were reversed (correct values: Round = 1, Bevel = 2)
	  Also, fill pattern list was incomplete and incorrect, and arc subtypes
	  were switched.
<p><img src="images/blueballdot.png"> 
When cancelling modification of text using text tool, refreshing of
	  original text wasn't done
<p><img src="images/blueballdot.png"> 
Comments longer than 200 characters caused problems.  They may be
	  unlimited in length now.
<p><img src="images/blueballdot.png"> 
Some functions inconsistently declared static/non-static
<p><img src="images/blueballdot.png"> 
Wasn't allowing negative rotation angle in indicator panel
<p><img src="images/blueballdot.png"> 
Typographical error in <i>xfig</i>.man - resources "canvasBackground" and
	  "canvasForeground" should be "canvasbackground" and "canvasforeground"
	  respectively (no uppercase letters)
<p><img src="images/blueballdot.png"> 
Updating objects didn't refresh the updated object correctly if the
	  bounds changed
<p><img src="images/blueballdot.png"> 
The lengths and lines drawn when "showlengths" is enabled has been
	  cleaned up to remove detritus left behind
<p><img src="images/blueballdot.png"> 
There was a bug in sizing of imported EPS images.  They were too small
	  by the equivalent of one pixel in width and height.  Strangely, this
	  also affected the background color in some cases.
<p><img src="images/blueballdot.png"> 
When merging or pasting a figure of opposite unit system (metric vs
	  imperial), <i>xfig</i> used the wrong scale factor.
<p><img src="images/blueballdot.png"> 
If malloc fails when <i>xfig</i> tries to create a Fig object, the null
	  pointer was subsequently dereferenced
<p><img src="images/blueballdot.png"> 
Objects at MAX_DEPTH (999) were sometimes unaccounted for, meaning
	  they wouldn't be refreshed in some cases.
<p><img src="images/blueballdot.png"> 
Balloon delay value wasn't visible in  Global Settings panel
<p><img src="images/blueballdot.png"> 
When updating depths in a compound, <i>xfig</i> didn't check for depths
	  exceeding the maximum depth (999)
<p><img src="images/blueballdot.png"> 
Grid calculations didn't coerce types properly, resulting in strange
	  grid in negative canvas region
<p><img src="images/blueballdot.png"> 
Empty lines in the ~/.xfigrc file were causing <i>xfig</i> to segfault
<p><img src="images/blueballdot.png"> 
Updated fig-format.html to correctly reflect Doc/FORMAT3.2
<p><img src="images/blueballdot.png"> 
If a region was deleted (middle mouse button) and undone, the
	  recovered objects were invisible except for their grab corners
<p><img src="images/blueballdot.png"> 
If an object was selected from a library while it was still loading
	  and placed on the canvas after the library finished loading, <i>xfig</i>
	  would segfault
<p><img src="images/blueballdot.png"> 
When pasting or merging objects, <i>xfig</i> would recompute colors of
	  already imported pictures in current figure even if merged/pasted
	  objects didn't contain any pictures
<p><img src="images/blueballdot.png"> 
When scaling a compound containg text, text size may have exceeded
	  MIN_FONT_SIZE or MAX_FONT_SIZE limits
<p><img src="images/blueballdot.png"> 
Font name list was freed when it shouldn't have been, when using
	  -noscalablefonts
<p><img src="images/blueballdot.png"> 
Changing depth of an object in the edit panel didn't always update the
	  depth manager correctly
<p><img src="images/blueballdot.png"> 
Actual message was missing from "Error during ..." export message
<p><img src="images/blueballdot.png"> 
Undefined user color in Libraries/Knitting/Symbols/purl-dash.fig
<p><img src="images/blueballdot.png"> 
Removed unused user colors in various Library symbols
<p><img src="images/blueballdot.png"> 
Bug when merging or pasting figures with user-defined colors.
<p><img src="images/blueballdot.png"> 
No more than 100 points are  displayed for polylines, polygons in
	  popup edit panel to prevent system meltdown.  This doesn't affect the
	  maximum number of points *allowed* in a polygon/polyline, only the
	  number displayed.
<p><img src="images/blueballdot.png"> 
Quotes around definition of MKDIRHIER should not be there in Imakefile
<p><img src="images/blueballdot.png"> 
Made all references to Xaw header files use #ifdef Xaw3d to include
	  3d header files
<p><img src="images/blueballdot.png"> 
Added back requirement that fonts (except Zapf Dingbats and Symbol)
	  are iso8859 encoded
<p><img src="images/blueballdot.png"> 
When editing a compound object containing text, and the canvas zoom
	  is != 1.0, the zoomed text size was used instead of the unzoomed
<p><img src="images/blueballdot.png"> 
Printer choice menu now discards any empty or duplicate printers that
	  are in /etc/printcap
<p><img src="images/blueballdot.png"> 
A more robust algorithm for finding the center of an arc given three
	  points on the radius is in place. The old algorithm gave up too often,
	  making some operations on arcs (e.g. rotate) fail.
<p><img src="images/blueballdot.png"> 
Rounding error in zoom-to-fit-canvas produced bad centering of figure
<p><img src="images/blueballdot.png"> 
Maximum number of printers increased to 1000 for lprng systems, and is
	  now checked for exceeding maximum
<p><img src="images/blueballdot.png"> 
Export to PDF now disables page size, orientation, etc. since PDF is
	  meant to be imported into pdflatex or other processors
<p><img src="images/blueballdot.png"> 
Fixed a bug introduced in 3.2.3b which made selecting objects
	  difficult at higher zooms
<p><img src="images/blueballdot.png"> 
When editing a compound, if either the width or height was made 0,
	  divide by 0 would occur
<p><img src="images/blueballdot.png"> 
Line lengths weren't erased after creating arc box (showlengths on)
<p><img src="images/blueballdot.png"> 
Doesn't allow coincident consecutive points in objects or boxes with
	  zero dimensions (coincident corners).  Also, doesn't allow box or
	  arcbox with zero x- or y-dimension.
<p><img src="images/blueballdot.png"> 
Line width indicator didn't always update on some systems
<p><img src="images/blueballdot.png"> 
Temporary files weren't closed before deleting them in read_gif,
	  read_tif and read_ppm
<p><img src="images/blueballdot.png"> 
Undoing the conversion of a spline<->line or line<->spline would crash
<p><img src="images/blueballdot.png"> 
When loading a figure from the recent files list in the File menu, imported
	  pictures with relative paths would not load
<p><img src="images/blueballdot.png"> 
Illegal box object removed from Examples/lidar.fig
<p><img src="images/blueballdot.png"> 
Typo on html docs - button 3 cancels constrained copy, not button 2
<p><img src="images/blueballdot.png"> 
Keyboard accelerators mislabeled - <Shift-f> flips objects left/right,
	  unshifted <f> flips them up/down
<hr>

[ <a href="contents.html">Contents</a> |
 <a href="introduction.html">Introduction</a> |
 <a href="authors.html">Credits</a> ]

</body>
</html>
